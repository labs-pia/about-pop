/*! jQuery Mobile v1.5.0-rc1 | Copyright jQuery Foundation, Inc. | jquery.org/license */

!function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,n){!function(t){"function"==typeof define&&define.amd?define("animationComplete",["jquery"],t):t(e)}(function(e){var t={animation:{},transition:{}},o=i.createElement("a"),s=["","webkit-","moz-","o-"],a={};return e.each(["animation","transition"],function(i,a){var r=0===i?a+"-name":a;e.each(s,function(i,s){if(o.style[e.camelCase(s+r)]!==n)return t[a].prefix=s,!1}),t[a].duration=e.camelCase(t[a].prefix+a+"-duration"),t[a].event=e.camelCase(t[a].prefix+a+"-end"),""===t[a].prefix&&(t[a].event=t[a].event.toLowerCase())}),e.support.cssTransitions=t.transition.prefix!==n,e.support.cssAnimations=t.animation.prefix!==n,e(o).remove(),e.fn.extend({animationComplete:function(o,s,r){var l,h,u=this,c=function(){clearTimeout(l),o.apply(this,arguments)},d=s&&"animation"!==s?"transition":"animation";return this.length?e.support.cssTransitions&&"transition"===d||e.support.cssAnimations&&"animation"===d?(r===n&&(this.context!==i&&(h=3e3*parseFloat(this.css(t[d].duration))),(0===h||h===n||isNaN(h))&&(h=e.fn.animationComplete.defaultDuration)),l=setTimeout(function(){u.off(t[d].event,c).each(function(){o.apply(this)})},h),a[o]={event:t[d].event,binding:c},this.one(t[d].event,c)):(setTimeout(function(){u.each(function(){o.apply(this)})},0),this):this},removeAnimationComplete:function(e){var t=a[e];return t?this.off(t.event,t.binding):this}}),e.fn.animationComplete.defaultDuration=1e3,e}),function(t){"function"==typeof define&&define.amd?define("ns",["jquery"],t):t(e)}(function(e){return e.mobile={version:"@VERSION"},e.mobile}),function(t){"function"==typeof define&&define.amd?define("data",["jquery","./ns"],t):t(e)}(function(e){var i={},o=e.find,s=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,a=/:jqmData\(([^)]*)\)/g;return e.extend(e.mobile,{ns:!1===e.mobileBackcompat?"ui-":"",getAttribute:function(i,n){var o;(i=i.jquery?i[0]:i)&&i.getAttribute&&(o=i.getAttribute("data-"+e.mobile.ns+n));try{o="true"===o||"false"!==o&&("null"===o?null:+o+""===o?+o:s.test(o)?t.JSON.parse(o):o)}catch(e){}return o},nsNormalizeDict:i,nsNormalize:function(t){return i[t]||(i[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,i){var o;return void 0!==t&&(t&&(t=e.mobile.nsNormalize(t)),o=arguments.length<2||i===n?this.data(t):this.data(t,i)),o},e.jqmData=function(t,i,n){var o;return void 0!==i&&(o=e.data(t,i?e.mobile.nsNormalize(i):i,n)),o},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.find=function(t,i,n,s){return t.indexOf(":jqmData")>-1&&(t=t.replace(a,"[data-"+(e.mobile.ns||"")+"$1]")),o.call(this,t,i,n,s)},e.extend(e.find,o),e.mobile}),function(t){"function"==typeof define&&define.amd?define("defaults",["jquery","./ns"],t):t(e)}(function(e){return e.extend(e.mobile,{hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/version",["jquery"],t):t(e)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/keycode",["jquery","./version"],t):t(e)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(t){"function"==typeof define&&define.amd?define("helpers",["jquery","./ns","jquery-ui/keycode"],t):t(e)}(function(e){var n=function(t,i){var n=t.parent(),o=[],s=function(){var t=e(this),i=e.mobile.toolbar&&t.data("mobile-toolbar")?t.toolbar("option"):{position:t.attr("data-"+e.mobile.ns+"position"),updatePagePadding:!1!==t.attr("data-"+e.mobile.ns+"update-page-padding")};return!("fixed"===i.position&&!0===i.updatePagePadding)},a=n.children(":jqmData(type='header')").filter(s),r=t.children(":jqmData(type='header')"),l=n.children(":jqmData(type='footer')").filter(s),h=t.children(":jqmData(type='footer')");return 0===r.length&&a.length>0&&(o=o.concat(a.toArray())),0===h.length&&l.length>0&&(o=o.concat(l.toArray())),e.each(o,function(t,n){i-=e(n).outerHeight()}),Math.max(0,i)};return e.extend(e.mobile,{window:e(t),document:e(i),keyCode:e.ui.keyCode,behaviors:{},focusPage:function(e){var t=e.find("[autofocus]");t.length||(t=e.find(".ui-title").eq(0)),t.length||(t=e),t.focus()},silentScroll:function(i){e.mobile.window.scrollTop()>0||("number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150))},getClosestBaseUrl:function(t){var i=e(t).closest(".ui-page").jqmData("url"),n=e.mobile.path.documentBase.hrefNoHash;return e.mobile.base.dynamicBaseEnabled&&i&&e.mobile.path.isPath(i)||(i=n),e.mobile.path.makeUrlAbsolute(i,n)},removeActiveLinkClass:function(t){!e.mobile.activeClickedLink||e.mobile.activeClickedLink.closest(".ui-page-active").length&&!t||e.mobile.activeClickedLink.removeClass("ui-button-active"),e.mobile.activeClickedLink=null},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;var n,o,s,a,r=t.length,l=e();for(a=0;a<r;a++){for(o=t.eq(a),s=!1,n=t[a];n;){if("false"===(n.getAttribute?n.getAttribute("data-"+e.mobile.ns+i):"")){s=!0;break}n=n.parentNode}s||(l=l.add(o))}return l},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(i){var o=e(".ui-page-active"),s=o.height(),a=o.outerHeight(!0);i=n(o,"number"==typeof i?i:e(t).height()),o.css("min-height",""),o.height()<i&&o.css("min-height",i-(a-s))},loading:function(){var t=this.loading._widget||e.mobile.loader().element,i=t.loader.apply(t,arguments);return this.loading._widget=t,i},isElementCurrentlyVisible:function(n){if(!(n="string"==typeof n?e(n)[0]:n[0]))return!0;var o=n.getBoundingClientRect();return o.bottom>0&&o.right>0&&o.top<(t.innerHeight||i.documentElement.clientHeight)&&o.left<(t.innerWidth||i.documentElement.clientWidth)}}),e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.addDependents=function(t,i){var n=e(t),o=n.jqmData("dependents")||e();n.jqmData("dependents",e(o).add(i))},e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0},e.mobile}),function(e){"function"==typeof define&&define.amd&&define("core",["./defaults","./data","./helpers"],e)}(function(){}),function(t){"function"==typeof define&&define.amd?define("media",["jquery","./core"],t):t(e)}(function(e){return t.matchMedia=t.matchMedia||function(e,t){var i,n=e.documentElement,o=n.firstElementChild||n.firstChild,s=e.createElement("body"),a=e.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(a),function(e){return a.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(s,o),i=42===a.offsetWidth,n.removeChild(s),{matches:i,media:e}}}(i),e.mobile.media=function(e){var i=t.matchMedia(e);return i&&i.matches},e.mobile.media}),function(t){"function"==typeof define&&define.amd?define("support/touch",["jquery","../ns"],t):t(e)}(function(e){var t={touch:"ontouchend"in i};return e.mobile.support=e.mobile.support||{},e.extend(e.support,t),e.extend(e.mobile.support,t),e.support}),function(t){"function"==typeof define&&define.amd?define("support/orientation",["jquery"],t):t(e)}(function(e){return e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t}),e.support}),function(t){"function"==typeof define&&define.amd?define("support",["jquery","./core","./media","./support/touch","./support/orientation"],t):t(e)}(function(e){function o(e){var t,i=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+h.join(i+" ")+i).split(" ");for(t in o)if(l[o[t]]!==n)return!0}function s(){var i=t,n=!(!i.document.createElementNS||!i.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||i.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(t){t&&n||e("html").addClass("ui-nosvg")},s=new i.Image;s.onerror=function(){o(!1)},s.onload=function(){o(1===s.width&&1===s.height)},s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}var a,r=e("<body>").prependTo("html"),l=r[0].style,h=["Webkit","Moz","O"],u="palmGetResource"in t,c=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),d=t.blackberry&&!o("-webkit-transform");return e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=i.createElement("div"),n=t.all||[];do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><br><![endif]--\x3e"}while(n[0]);return e>4?e:!e}(),e.mobile.browser.newIEMobile=function(){var t=i.createElement("div");return!e.mobile.browser.oldIE&&"onmsgesturehold"in t&&"ontouchstart"in t&&"onpointerdown"in t}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:function(){var o,s,a,l="transform-3d",u=e.mobile.media("(-"+h.join("-"+l+"),(-")+"-"+l+"),("+l+")");if(u)return!!u;o=i.createElement("div"),s={MozTransform:"-moz-transform",transform:"transform"},r.append(o);for(a in s)o.style[a]!==n&&(o.style[a]="translate3d( 100px, 1px, 1px )",u=t.getComputedStyle(o).getPropertyValue(s[a]));return!!u&&"none"!==u}(),boxShadow:!!o("boxShadow")&&!d,fixedPosition:function(){var e=t,i=navigator.userAgent,n=navigator.platform,o=i.match(/AppleWebKit\/([0-9]+)/),s=!!o&&o[1],a=i.match(/Fennec\/([0-9]+)/),r=!!a&&a[1],l=i.match(/Opera Mobi\/([0-9]+)/),h=!!l&&l[1];return!((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&s&&s<534||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&h<7458||i.indexOf("Android")>-1&&s&&s<533||r&&r<6||"palmGetResource"in t&&s&&s<534||i.indexOf("MeeGo")>-1&&i.indexOf("NokiaBrowser/8.5.0")>-1)}(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in r[0])&&!u&&!c,cssPointerEvents:function(){var e,n=i.createElement("x"),o=i.documentElement,s=t.getComputedStyle;return"pointerEvents"in n.style&&(n.style.pointerEvents="auto",n.style.pointerEvents="x",o.appendChild(n),e=s&&"auto"===s(n,"").pointerEvents,o.removeChild(n),!!e)}(),boundingRect:function(){return void 0!==i.createElement("div").getBoundingClientRect}(),inlineSVG:s}),r.remove(),a=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||c||a,a&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow"),e.support}),function(t){"function"==typeof define&&define.amd?define("events/navigate",["jquery","./../ns","./../support"],t):t(e)}(function(e){var t,i=e.mobile.window,o=function(){};return e.event.special.beforenavigate={setup:function(){i.on("navigate",o)},teardown:function(){i.off("navigate",o)}},e.event.special.navigate=t={bound:!1,pushStateEnabled:!0,originalEventName:n,isPushStateEnabled:function(){return e.support.pushState&&!0===e.mobile.pushStateEnabled&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return!0===e.mobile.hashListeningEnabled},popstate:function(t){var n,o,s;t.isDefaultPrevented()||(n=new e.Event("navigate"),o=new e.Event("beforenavigate"),s=t.originalEvent.state||{},o.originalEvent=t,i.trigger(o),o.isDefaultPrevented()||(t.historyState&&e.extend(s,t.historyState),n.originalEvent=t,setTimeout(function(){i.trigger(n,{state:s})},0)))},hashchange:function(t){var n=new e.Event("navigate"),o=new e.Event("beforenavigate");o.originalEvent=t,i.trigger(o),o.isDefaultPrevented()||(n.originalEvent=t,i.trigger(n,{state:t.hashchangeState||{}}))},setup:function(){t.bound||(t.bound=!0,t.isPushStateEnabled()?(t.originalEventName="popstate",i.bind("popstate.navigate",t.popstate)):t.isHashChangeEnabled()&&(t.originalEventName="hashchange",i.bind("hashchange.navigate",t.hashchange)))}},e.event.special.navigate}),function(t){"function"==typeof define&&define.amd?define("events/scroll",["jquery"],t):t(e)}(function(e){return e.each(["scrollstart","scrollstop"],function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(t,n){var s=t.type;i=n,t.type=i?"scrollstart":"scrollstop",e.event.dispatch.call(o,t),t.type=s}var i,n,o=this,s=e(o),a=e.event.special.scrollstart.handler=function(o){e.event.special.scrollstart.enabled&&(i||t(o,!0),clearTimeout(n),n=setTimeout(function(){t(o,!1)},50))};s.on("touchmove scroll",a)},teardown:function(){e(this).off("touchmove scroll",e.event.special.scrollstart.handler)}},e.each({scrollstop:"scrollstart"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)},teardown:function(){e(this).unbind(i)}}}),e.event.special}),function(t){"function"==typeof define&&define.amd?define("navigation/path",["jquery","./../ns"],t):t(e)}(function(e){var i,o;return e.mobile.path=i={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=this.parseUrl(e||location.href),i=e?t:location,n=t.hash;return n="#"===n?"":n,i.protocol+t.doubleSlash+i.host+(""!==i.protocol&&"/"!==i.pathname.substring(0,1)?"/":"")+i.pathname+i.search+n},getDocumentUrl:function(t){return t?e.extend({},i.documentUrl):i.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var n=i.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){var i,n,o,s;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",i=t?t.split("/"):[],n=e.split("/"),o=0;o<n.length;o++)switch(s=n[o]){case".":break;case"..":i.length&&i.pop();break;default:i.push(s)}return"/"+i.join("/")},isSameDomain:function(e,t){return i.parseUrl(e).domain.toLowerCase()===i.parseUrl(t).domain.toLowerCase()},isRelativeUrl:function(e){return""===i.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==i.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!i.isRelativeUrl(e))return e;t===n&&(t=this.documentBase);var o=i.parseUrl(e),s=i.parseUrl(t),a=o.protocol||s.protocol,r=o.protocol?o.doubleSlash:o.doubleSlash||s.doubleSlash,l=o.authority||s.authority,h=""!==o.pathname;return a+r+l+i.makePathAbsolute(o.pathname||s.filename,s.pathname)+(o.search||!h&&s.search||"")+o.hash},addSearchParams:function(t,n){var o=i.parseUrl(t),s="object"==typeof n?e.param(n):n,a=o.search||"?";return o.hrefNoSearch+a+("?"!==a.charAt(a.length-1)?"&":"")+s+(o.hash||"")},convertUrlToDataUrl:function(e){var n=e,o=i.parseUrl(e);return i.isEmbeddedPage(o)?n=o.hash.split("&ui-state=dialog")[0].replace(/^#/,"").replace(/\?.*$/,""):i.isSameDomain(o,this.documentBase)&&(n=o.hrefNoHash.replace(this.documentBase.domain,"").split("&ui-state=dialog")[0]),t.decodeURIComponent(n)},get:function(e){return e===n&&(e=i.parseLocation().hash),i.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(this.documentBase.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},stripQueryParams:function(e){return e.replace(/\?.*$/,"")},cleanHash:function(e){return i.stripHash(e.replace(/\?.*$/,"").replace("&ui-state=dialog",""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=i.parseUrl(e);return!(!t.protocol||t.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isEmbeddedPage:function(e){var t=i.parseUrl(e);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(e,t){var n,o,s,a,r,l=this.isPath(e),h=this.parseUrl(e),u=h.hash,c="";return t||(l?t=i.getLocation():(r=i.getDocumentUrl(!0),t=i.isPath(r.hash)?i.squash(r.href):r.href)),o=l?i.stripHash(e):e,o=i.isPath(h.hash)?i.stripHash(h.hash):o,a=o.indexOf(this.uiStateKey),a>-1&&(c=o.slice(a),o=o.slice(0,a)),n=i.makeUrlAbsolute(o,t),s=this.parseUrl(n).search,l?((i.isPath(u)||0===u.replace("#","").indexOf(this.uiStateKey))&&(u=""),c&&-1===u.indexOf(this.uiStateKey)&&(u+=c),-1===u.indexOf("#")&&""!==u&&(u="#"+u),n=i.parseUrl(n),n=n.protocol+n.doubleSlash+n.host+n.pathname+s+u):n+=n.indexOf("#")>-1?c:"#"+c,n},isPreservableHash:function(e){return 0===e.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(e){var t="#"===e.substring(0,1);return t&&(e=e.substring(1)),(t?"#":"")+e.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(e){return e&&e.split("&ui-state=dialog")[0]},isFirstPageUrl:function(t){var o=i.parseUrl(i.makeUrlAbsolute(t,this.documentBase)),s=o.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&o.hrefNoHash===this.documentBase.hrefNoHash,a=e.mobile.firstPage,r=a&&a[0]?a[0].id:n;return s&&(!o.hash||"#"===o.hash||r&&o.hash.replace(/^#/,"")===r)},isPermittedCrossDomainRequest:function(t,i){return e.mobile.allowCrossDomainPages&&("file:"===t.protocol||"content:"===t.protocol)&&-1!==i.search(/^https?:/)}},i.documentUrl=i.parseLocation(),o=e("head").find("base"),i.documentBase=o.length?i.parseUrl(i.makeUrlAbsolute(o.attr("href"),i.documentUrl.href)):i.documentUrl,i.documentBaseDiffers=i.documentUrl.hrefNoHash!==i.documentBase.hrefNoHash,i.getDocumentBase=function(t){return t?e.extend({},i.documentBase):i.documentBase.href},i}),function(t){"function"==typeof define&&define.amd?define("navigation/base",["jquery","./path","./../ns"],t):t(e)}(function(e){var t,i=e("head").children("base"),o=function(){return e.mobile.dynamicBaseEnabled!==n?e.mobile.dynamicBaseEnabled:t.dynamicBaseEnabled};return t={dynamicBaseEnabled:!0,element:function(){return i&&i.length||(i=e("<base>",{href:e.mobile.path.documentBase.hrefNoSearch}).prependTo(e("head"))),i},set:function(i){o()&&t.element().attr("href",e.mobile.path.makeUrlAbsolute(i,e.mobile.path.documentBase))},reset:function(){o()&&t.element().attr("href",e.mobile.path.documentBase.hrefNoSearch)}},e.mobile.base=t,t}),function(t){"function"==typeof define&&define.amd?define("navigation/history",["jquery","./../ns","./path"],t):t(e)}(function(e){return e.mobile.History=function(e,t){this.stack=e||[],this.activeIndex=t||0},e.extend(e.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(e,t){t=t||{},this.getNext()&&this.clearForward(),t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash),t.url=e,this.stack.push(t),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(e,t,i){t=t||this.stack;var n,o,s,a=t.length;for(o=0;o<a;o++)if(n=t[o],(decodeURIComponent(e)===decodeURIComponent(n.url)||decodeURIComponent(e)===decodeURIComponent(n.hash))&&(s=o,i))return s;return s},_findById:function(e){var t,i=this.stack.length;for(t=0;t<i&&this.stack[t].id!==e;t++);return t<i?t:n},closest:function(e,t){var i=t===n?n:this._findById(t),o=this.activeIndex;return i!==n?i:(i=this.find(e,this.stack.slice(0,o)),i===n&&(i=this.find(e,this.stack.slice(o),!0),i=i===n?i:i+o),i)},direct:function(t){var i=this.closest(t.url,t.id),o=this.activeIndex;i!==n&&(this.activeIndex=i,this.previousIndex=o),i<o?(t.present||t.back||e.noop)(this.getActive(),"back"):i>o?(t.present||t.forward||e.noop)(this.getActive(),"forward"):i===n&&t.missing&&t.missing(this.getActive())}}),e.mobile.History}),function(t){"function"==typeof define&&define.amd?define("navigation/navigator",["jquery","./../ns","../events/navigate","./path","./history"],t):t(e)}(function(e){var n=e.mobile.path,o=location.href;return e.mobile.Navigator=function(t){this.history=t,this.ignoreInitialHashChange=!0,e.mobile.window.bind({"popstate.history":e.proxy(this.popstate,this),"hashchange.history":e.proxy(this.hashchange,this)})},e.extend(e.mobile.Navigator.prototype,{historyEntryId:0,squash:function(s,a){var r,l,h=n.isPath(s)?n.stripHash(s):s;return l=n.squash(s),r=e.extend({id:++this.historyEntryId,hash:h,url:l},a),t.history&&t.history.replaceState&&t.history.replaceState(r,r.title||i.title,l),this.ignoreInitialHashChange&&(o=l),r},hash:function(e,t){var i,o,s,a;return i=n.parseUrl(e),o=n.parseLocation(),o.pathname+o.search===i.pathname+i.search?s=i.hash?i.hash:i.pathname+i.search:n.isPath(e)?(a=n.parseUrl(t),s=a.pathname+a.search+(n.isPreservableHash(a.hash)?a.hash.replace("#",""):"")):s=e,s},go:function(o,s,a){var r,l,h,u,c=e.event.special.navigate.isPushStateEnabled();l=n.squash(o),h=this.hash(o,l),a&&h!==n.stripHash(n.parseLocation().hash)&&(this.preventNextHashChange=a),this.preventHashAssignPopState=!0,t.location.hash=h,this.preventHashAssignPopState=!1,r=e.extend({url:l,hash:h,title:i.title},s),c&&(u=new e.Event("popstate"),u.originalEvent=new e.Event("popstate",{state:null}),r.id=(this.squash(o,r)||{}).id,a||(this.ignorePopState=!0,e.mobile.window.trigger(u))),this.history.add(r.url,r)},popstate:function(t){var i,s;if(e.event.special.navigate.isPushStateEnabled()){if(this.preventHashAssignPopState)return this.preventHashAssignPopState=!1,void t.stopImmediatePropagation();if(this.ignorePopState)return void(this.ignorePopState=!1);if(!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===o))return void t.preventDefault();if(i=n.parseLocation().hash,!t.originalEvent.state&&i)return s=this.squash(i),this.history.add(s.url,s),void(t.historyState=s);this.history.direct({id:(t.originalEvent.state||{}).id,url:(t.originalEvent.state||{}).url||i,present:function(i,n){t.historyState=e.extend({},i),t.historyState.direction=n}})}},hashchange:function(t){var o,s;if(e.event.special.navigate.isHashChangeEnabled()&&!e.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void t.stopImmediatePropagation();o=this.history,s=n.parseLocation().hash,this.history.direct({url:s,present:function(i,n){t.hashchangeState=e.extend({},i),t.hashchangeState.direction=n},missing:function(){o.add(s,{hash:s,title:i.title})}})}}}),e.mobile.Navigator}),function(t){"function"==typeof define&&define.amd?define("navigation/method",["jquery","./path","./history","./navigator"],t):t(e)}(function(e){e.mobile.navigate=function(t,i,n){e.mobile.navigate.navigator.go(t,i,n)},e.mobile.navigate.history=new e.mobile.History,e.mobile.navigate.navigator=new e.mobile.Navigator(e.mobile.navigate.history);var t=e.mobile.path.parseLocation();return e.mobile.navigate.history.add(t.href,{hash:t.hash}),e.mobile.navigate}),function(t){"function"==typeof define&&define.amd?define("transitions/transition",["jquery","../core","../events/scroll","../animationComplete"],t):t(e)}(function(e){return e.mobile.Transition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(t,i,n,o){e.extend(this,{name:t,reverse:i,$to:n,$from:o,deferred:new e.Deferred})},cleanFrom:function(){this.$from.removeClass("ui-page-active out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),e.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass("ui-page-active"),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(e,t,i,n){this.beforeDoneOut(),this.startIn(e,t,i,n)},hideIn:function(e){this.$to.css("z-index",-10),e.call(this),this.$to.css("z-index","")},scrollPage:function(){e.event.special.scrollstart.enabled=!1,(e.mobile.hideUrlBar||this.toScroll!==e.mobile.defaultHomeScroll)&&t.scrollTo(0,this.toScroll),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},startIn:function(t,i,n,o){this.hideIn(function(){this.$to.addClass("ui-page-active"+this.toPreClass),o||e.mobile.focusPage(this.$to),this.$to.height(t+this.toScroll),n||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+i),n?this.doneIn():this.$to.animationComplete(e.proxy(function(){this.doneIn()},this))},startOut:function(t,i,n){this.beforeStartOut(t,i,n),this.$from.height(t+e.mobile.window.scrollTop()).addClass(this.name+" out"+i)},toggleViewportClass:function(){this.$to.closest(".ui-pagecontainer").toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(i){var n,o=this.reverse?" reverse":"",s=e(t).height(),a=!1!==e.mobile.maxTransitionWidth&&e.mobile.window.width()>e.mobile.maxTransitionWidth;return this.toScroll=i||0,n=!e.support.cssTransitions||!e.support.cssAnimations||a||!this.name||"none"===this.name||Math.max(e.mobile.window.scrollTop(),this.toScroll)>e.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!n?this.startOut(s,o,n):this.doneOut(s,o,n,!0),this.deferred.promise()}}),e.mobile.Transition}),function(t){"function"==typeof define&&define.amd?define("transitions/concurrent",["jquery","./transition"],t):t(e)}(function(e){return e.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.ConcurrentTransition.prototype,e.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(e,t,i){this.doneOut(e,t,i)}}),e.mobile.ConcurrentTransition}),function(t){"function"==typeof define&&define.amd?define("transitions/serial",["jquery","../animationComplete","./transition"],t):t(e)}(function(e){return e.mobile.SerialTransition=function(){this.init.apply(this,arguments)},e.extend(e.mobile.SerialTransition.prototype,e.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(t,i,n){this.$from.animationComplete(e.proxy(function(){this.doneOut(t,i,n)},this))}}),e.mobile.SerialTransition}),function(t){"function"==typeof define&&define.amd?define("transitions/handlers",["jquery","../core","./serial","./concurrent"],t):t(e)}(function(e){var i=function(){return 3*e(t).height()};return e.mobile.transitionHandlers={sequential:e.mobile.SerialTransition,simultaneous:e.mobile.ConcurrentTransition},e.mobile.defaultTransitionHandler=e.mobile.transitionHandlers.sequential,e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||i,e.mobile.transitionHandlers}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/widget",["jquery","./version"],t):t(e)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,a,r={},l=t.split(".")[0];t=t.split(".")[1];var h=l+"-"+t;return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][h.toLowerCase()]=function(t){return!!e.data(t,h)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){if(!e.isFunction(n))return void(r[t]=n);r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},r,{constructor:s,namespace:l,widgetName:t,widgetFullName:h}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var o,s,a=i.call(arguments,1),r=0,l=a.length;r<l;r++)for(o in a[r])s=a[r][o],a[r].hasOwnProperty(o)&&s!==n&&(e.isPlainObject(s)?t[o]=e.isPlainObject(t[o])?e.widget.extend({},t[o],s):e.widget.extend({},s):t[o]=s);return t},e.widget.bridge=function(t,o){var s=o.prototype.widgetFullName||t;e.fn[t]=function(a){var r="string"==typeof a,l=i.call(arguments,1),h=this;return r?this.length||"instance"!==a?this.each(function(){var i,o=e.data(this,s);return"instance"===a?(h=o,!1):o?e.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,l),i!==o&&i!==n?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):h=n:(l.length&&(a=e.widget.extend.apply(null,[a].concat(l))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new o(a,this))})),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},
n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var o,s,a,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},o=t.split("."),t=o.shift(),o.length){for(s=r[t]=e.widget.extend({},this.options[t]),a=0;a<o.length-1;a++)s[o[a]]=s[o[a]]||{},s=s[o[a]];if(t=o.pop(),1===arguments.length)return s[t]===n?null:s[t];s[t]=i}else{if(1===arguments.length)return this.options[t]===n?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,o;for(i in t)o=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&o&&o.length&&(n=e(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var a,r;for(r=0;r<i.length;r++)a=o.classesElementLookup[i[r]]||e(),a=e(t.add?e.unique(a.get().concat(t.element.get())):a.not(t.element).get()),o.classesElementLookup[i[r]]=a,n.push(i[r]),s&&t.classes[i[r]]&&n.push(t.classes[i[r]])}var n=[],o=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,o){-1!==e.inArray(t.target,o)&&(i.classesElementLookup[n]=e(o.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof e||null===e,s={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function r(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?s[a]:a).apply(s,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+s.eventNamespace,u=l[2];u?o.on(h,u,r):i.on(h,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var o,s,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var a,r=o?!0===o||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[r]?n[t](o):r!==t&&n[r]?n[r](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget}),function(t){"function"==typeof define&&define.amd?define("widget",["jquery","./ns","jquery-ui/widget","./data"],t):t(e)}(function(e){return e.mobile.widget=e.mobile.widget||{}}),function(t){"function"==typeof define&&define.amd?define("widgets/widget.theme",["jquery","../core","../widget"],t):t(e)}(function(e){return e.mobile.widget.theme={_create:function(){var t=this;this._super(),e.each(this._themeElements(),function(e,i){t._addClass(i.element,null,i.prefix+t.options[i.option||"theme"])})},_setOption:function(t,i){var n=this;e.each(this._themeElements(),function(e,o){(o.option||"theme")===t&&n._removeClass(o.element,null,o.prefix+n.options[o.option||"theme"])._addClass(o.element,null,o.prefix+i)}),this._superApply(arguments)}},e.mobile.widget.theme}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/widgets/controlgroup",["jquery","../widget"],t):t(e)}(function(e){var t=/ui-corner-([a-z]){2,6}/g;return e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,function(n,o){var s,a={};if(o)return"controlgroupLabel"===n?(s=t.element.find(o),s.each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(s,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(s.get()))):void(e.fn[n]&&(a=t["_"+n+"Options"]?t["_"+n+"Options"]("middle"):{classes:{}},t.element.find(o).each(function(){var o=e(this),s=o[n]("instance"),r=e.widget.extend({},a);if("button"!==n||!o.parent(".ui-spinner").length){s||(s=o[n]()[n]("instance")),s&&(r.classes=t._resolveClassesValues(r.classes,s)),o[n](r);var l=o[n]("widget");e.data(l[0],"ui-controlgroup-data",s||o[n]("instance")),i.push(l[0])}})))}),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=e(this),n=i.data("ui-controlgroup-data");n&&n[t]&&n[t]()})},_updateCornerClass:function(e,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,n){var o={};return e.each(i,function(s){var a=n.options.classes[s]||"";a=e.trim(a.replace(t,"")),o[s]=(a+" "+i[s]).replace(/\s+/g," ")}),o},_setOption:function(e,t){if("direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"===e)return void this._callChildMethod(t?"disable":"enable");this.refresh()},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,n){var o=t[n]().data("ui-controlgroup-data");if(o&&i["_"+o.widgetName+"Options"]){var s=i["_"+o.widgetName+"Options"](1===t.length?"only":n);s.classes=i._resolveClassesValues(s.classes,o),o.element[o.widgetName](s)}else i._updateCornerClass(t[n](),n)}),this._callChildMethod("refresh"))}})}),function(t){"function"==typeof define&&define.amd?define("widgets/controlgroup",["jquery","jquery-ui/widget","./widget.theme","jquery-ui/widgets/controlgroup"],t):t(e)}(function(e){return e.widget("ui.controlgroup",e.ui.controlgroup,{options:{theme:"inherit"},_create:function(){this._super(),this._on(this.document,{pagecontainershow:function(t,i){e.contains(i.toPage[0],this.element[0])&&this.refresh()}})},container:function(){return this.element},_themeElements:function(){return[{element:this.widget(),prefix:"ui-group-theme-"}]}}),e.widget("ui.controlgroup",e.ui.controlgroup,e.mobile.widget.theme),e.ui.controlgroup}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/escape-selector",["jquery","./version"],t):t(e)}(function(e){return e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}()}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/form",["jquery","./version"],t):t(e)}(function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/form-reset-mixin",["jquery","./form","./version"],t):t(e)}(function(e){return e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");e.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/labels",["jquery","./version","./escape-selector"],t):t(e)}(function(e){return e.fn.labels=function(){var t,i,n,o,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),n=this.attr("id"),n&&(t=this.eq(0).parents().last(),s=t.add(t.length?t.siblings():this.siblings()),i="label[for='"+e.ui.escapeSelector(n)+"']",o=o.add(s.find(i).addBack(i))),this.pushStack(o))}}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/widgets/checkboxradio",["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],t):t(e)}(function(e){return e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,n=this,o=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(o.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(o.disabled=t),o},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,i=this.element[0].name,n="input[name='"+e.ui.escapeSelector(i)+"']";return i?(t=this.form.length?e(this.form[0].elements).filter(n):e(n).filter(function(){return 0===e(this).form().length}),t.not(this.element)):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==n&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/widgets/button",["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(e)}(function(e){return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,null!=e&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var n="iconPosition"!==t,o=n?this.options.iconPosition:i,s="top"===o||"bottom"===o;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(o),s?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(o))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=e.showLabel===n?this.options.showLabel:e.showLabel,i=e.icon===n?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){if("text"===e)return void this._super("showLabel",t);"showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button}),function(t){"function"==typeof define&&define.amd?define("widgets/forms/button",["jquery","../../core","../../widget","../widget.theme","jquery-ui/widgets/button"],t):t(e)}(function(e){return e.widget("ui.button",e.ui.button,{options:{enhanced:!1,theme:null},_enhance:function(){this.options.enhanced?this.options.icon&&(this.icon=this.element.find("ui-button-icon")):this._super()},_themeElements:function(){return this.options.theme=this.options.theme?this.options.theme:"inherit",[{element:this.widget(),prefix:"ui-button-"}]}}),e.widget("ui.button",e.ui.button,e.mobile.widget.theme),e.ui.button.prototype.options.classes={"ui-button":"ui-shadow ui-corner-all"},e.ui.button}),function(t){"function"==typeof define&&define.amd?define("widgets/forms/checkboxradio",["jquery","../../core","../../widget","jquery-ui/widgets/checkboxradio","../widget.theme"],t):t(e)}(function(e){return e.widget("ui.checkboxradio",e.ui.checkboxradio,{options:{enhanced:!1,theme:"inherit"},_enhance:function(){this.options.enhanced?this.options.icon&&(this.icon=this.element.parent().find(".ui-checkboxradio-icon")):this._super()},_themeElements:function(){return[{element:this.widget(),prefix:"ui-button-"}]}}),e.widget("ui.checkboxradio",e.ui.checkboxradio,e.mobile.widget.theme),e.ui.checkboxradio}),function(t){"function"==typeof define&&define.amd?define("widgets/enhancer",["jquery"],t):t(e)}(function(e){var t,i=!1;return e.fn.extend({enhance:function(){return e.enhance.enhance(this)},enhanceWithin:function(){return this.children().enhance(),this},enhanceOptions:function(){return e.enhance.getOptions(this)},enhanceRoles:function(){return e.enhance.getRoles(this)}}),e.enhance=e.enhance||{},e.extend(e.enhance,{enhance:function(t){var i,n=t.find("["+e.enhance.defaultProp()+"]").addBack();for(e.enhance._filter&&(n=e.enhance._filter(n)),i=0;i<e.enhance.hooks.length;i++)e.enhance.hooks[i].call(t,n);return e.enhance.defaultFunction.call(t,n),t},hooks:e.enhance.hooks||[],_filter:e.enhance._filter||!1,defaultProp:e.enhance.defaultProp||function(){return"data-ui-role"},defaultFunction:function(t){t.each(function(){var t,i=e(this).enhanceRoles();for(t=0;t<i.length;t++)e.fn[i[t]]&&e(this)[i[t]]()})},cache:!0,roleCache:{},getRoles:function(t){if(!t.length)return[];var i,o=e.enhance.roleCache[t[0].id?t[0].id:n];return o||(i=t.attr(e.enhance.defaultProp()),o=i?i.match(/\S+/g):[],e.enhance.roleCache[t[0].id]=o,o)},optionCache:{},getOptions:function(t){var i,o=e.enhance.optionCache[t[0].id?t[0].id:n];return o||(o={},i=(e.mobile.ns||"ui-").replace("-",""),e.each(e(t).data(),function(e,t){e=e.replace(i,""),e=e.charAt(0).toLowerCase()+e.slice(1),o[e]=t}),e.enhance.optionCache[t[0].id]=o,o)},_installWidget:function(){e.Widget&&!i&&(e.extend(e.Widget.prototype,{_getCreateOptions:function(e){var t,i,o=this.element.enhanceOptions();e=e||{};for(t in this.options)(i=o[t])!==n&&(e[t]=i);return e}}),i=!0)}}),e.Widget?e.enhance._installWidget():Object.defineProperty(e,"Widget",{configurable:!0,enumerable:!0,get:function(){return t},set:function(i){i&&(t=i,setTimeout(function(){e.enhance._installWidget()}))}}),e.enhance}),function(t){"function"==typeof define&&define.amd?define("widgets/enhancer.widgetCrawler",["jquery","../core","widgets/enhancer"],t):t(e)}(function(e){var t=function(i,n){e.each(n,function(n,o){var s,a=o.prototype,r=e.enhance,l=r.initGenerator(a);l&&(s=i.find(l),r._filter&&(s=r._filter(s)),s[a.widgetName](),o._childConstructors&&o._childConstructors.length>0&&t(i,o._childConstructors))})},i=function(){e.enhance.initGenerator&&e.Widget&&t(this.addBack(),e.Widget._childConstructors)};return e.enhance.hooks.push(i),e.enhance}),function(t){"function"==typeof define&&define.amd?define("widgets/enhancer.backcompat",["jquery","widgets/enhancer","widgets/enhancer.widgetCrawler"],t):t(e)}(function(e){if(!1!==e.mobileBackcompat){var t=function(t){return t=t.not(e.mobile.keepNative),e.mobile.ignoreContentEnabled&&t.each(function(){e(this).closest("[data-"+e.mobile.ns+"enhance='false']").length&&(t=t.not(this))}),t},i=function(t){return t.initSelector||e[t.namespace][t.widgetName].prototype.initSelector||!1};e.enhance._filter=t,e.enhance.defaultProp=function(){return"data-"+e.mobile.ns+"role"},e.enhance.initGenerator=i}return e.enhance}),function(t){"function"==typeof define&&define.amd?define("widgets/page",["jquery","../widget","./widget.theme","../core","widgets/enhancer","widgets/enhancer.backcompat","widgets/enhancer.widgetCrawler"],t):t(e)}(function(e){return e.widget("mobile.page",{version:"@VERSION",options:{theme:"a",domCache:!1,enhanceWithin:!0,enhanced:!1},_create:function(){if(!1===this._trigger("beforecreate"))return!1;this._establishStructure(),this._setAttributes(),this._attachToDOM(),this._addHandlers(),this.options.enhanceWithin&&this.element.enhanceWithin()},_establishStructure:e.noop,_setAttributes:function(){this.options.role&&this.element.attr("data-"+e.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0"),this._addClass("ui-page")},_attachToDOM:e.noop,_addHandlers:function(){this._on(this.element,{pagebeforehide:"_handlePageBeforeHide",pagebeforeshow:"_handlePageBeforeShow"})},bindRemove:function(t){var i=this.element;!i.data("mobile-page").options.domCache&&i.is(":jqmData(external-page='true')")&&this._on(this.document,{pagecontainerhide:t||function(t,i){if(i.prevPage[0]===this.element[0]&&!i.samePage){var n=new e.Event("pageremove");this._trigger("remove",n),n.isDefaultPrevented()||this.element.removeWithDependents()}}})},_themeElements:function(){return[{element:this.element,prefix:"ui-page-theme-"}]},_handlePageBeforeShow:function(){this._setContainerSwatch(this.options.theme)},_handlePageBeforeHide:function(){this._setContainerSwatch("none")},_setContainerSwatch:function(e){var t=this.element.parent().pagecontainer("instance");t&&t.option("theme",e)}}),e.widget("mobile.page",e.mobile.page,e.mobile.widget.theme),e.mobile.page}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/safe-active-element",["jquery","./version"],t):t(e)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/safe-blur",["jquery","./version"],t):t(e)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}}),function(t){"function"==typeof define&&define.amd?define("widgets/pagecontainer",["jquery","../core","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/widget","../navigation/path","../navigation/base","../events/navigate","../navigation/history","../navigation/navigator","../navigation/method","../events/scroll","../support","../widgets/page"],t):t(e)}(function(e){var o=[],s=!1;return e.widget("mobile.pagecontainer",{version:"@VERSION",options:{theme:"a",changeOptions:{transition:n,reverse:!1,changeUrl:!0,changeHash:!0,fromHashChange:!1,duplicateCachedPage:n,showLoadMsg:!0,dataUrl:n,fromPage:n,allowSamePageTransition:!1}},initSelector:!1,_create:function(){var t=this.options;t.changeUrl=t.changeUrl?t.changeUrl:!!t.changeHash,e.mobile.pagecontainers=(e.mobile.pagecontainers?e.mobile.pagecontainers:[]).concat([this]),e.mobile.pagecontainers.active=this,this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this._addClass("ui-pagecontainer","ui-mobile-viewport"),this.window.one("navigate",e.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(e){e.theme!==n&&"none"!==e.theme?this._removeClass(null,"ui-overlay-"+this.options.theme)._addClass(null,"ui-overlay-"+e.theme):e.theme!==n&&this._removeClass(null,"ui-overlay-"+this.options.theme),this._super(e)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var e,t,i=this._getActiveHistory();i&&(e=this._getScroll(),t=this._getDefaultScroll(),i.lastScroll=e<t?t:e)}},_delayedRecordScroll:function(){setTimeout(e.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getDefaultScroll:function(){return e.mobile.defaultHomeScroll},_filterNavigateEvents:function(t,i){var n;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(n=t.originalEvent.type.indexOf("hashchange")>-1?i.state.hash:i.state.url,n||(n=this._getHash()),n&&"#"!==n&&0!==n.indexOf("#"+e.mobile.path.uiStateKey)||(n=location.href),this._handleNavigate(n,i.state))},_getHash:function(){return e.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return e.mobile.firstPage},_getHistory:function(){return e.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return e.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(i){if(e.mobile.hashListeningEnabled)t.history.go(i);else{var n=e.mobile.navigate.history.activeIndex,o=n+parseInt(i,10),s=e.mobile.navigate.history.stack[o].url,a=i>=1?"forward":"back";e.mobile.navigate.history.activeIndex=o,
e.mobile.navigate.history.previousIndex=n,this.change(s,{direction:a,changeUrl:!1,fromHashChange:!0})}},_handleDestination:function(t){return"string"===e.type(t)&&(t=e.mobile.path.stripHash(t)),t&&(this._getHistory(),t=e.mobile.path.isPath(t)?t:e.mobile.path.makeUrlAbsolute("#"+t,this._getDocumentBase())),t||this._getInitialContent()},_optionFromHistory:function(e,t,i){var n=this._getHistory(),o="back"===e?n.getLast():n.getActive();return o&&o[t]||i},_handleDialog:function(t,i){var n,o,s=this.getActivePage();return s&&!s.data("mobile-dialog")?("back"===i.direction?this.back():this.forward(),!1):(n=i.pageUrl,o=this._getActiveHistory(),e.extend(t,{role:o.role,transition:this._optionFromHistory(i.direction,"transition",t.transition),reverse:"back"===i.direction}),n)},_handleNavigate:function(t,i){var n=e.mobile.path.stripHash(t),o=this._getHistory(),s=0===o.stack.length?"none":this._optionFromHistory(i.direction,"transition"),a={changeUrl:!1,fromHashChange:!0,reverse:"back"===i.direction};e.extend(a,i,{transition:s,allowSamePageTransition:this._optionFromHistory(i.direction,"allowSamePageTransition")}),o.activeIndex>0&&n.indexOf(e.mobile.dialogHashKey)>-1&&!1===(n=this._handleDialog(a,i))||this.change(this._handleDestination(n),a)},_getBase:function(){return e.mobile.base},_getNs:function(){return e.mobile.ns},_enhance:function(e,t){return e.page({role:t})},_include:function(e,t){e.appendTo(this.element),this._enhance(e,t.role),e.page("bindRemove")},_find:function(t){var i,n=this._createFileUrl(t),o=this._createDataUrl(t),s=this._getInitialContent();return i=this.element.children("[data-"+this._getNs()+"url='"+e.mobile.path.hashToSelector(o)+"']"),0===i.length&&o&&!e.mobile.path.isPath(o)&&(i=this.element.children(e.mobile.path.hashToSelector("#"+o)).attr("data-"+this._getNs()+"url",o).jqmData("url",o)),0===i.length&&e.mobile.path.isFirstPageUrl(n)&&s&&s.parent().length&&(i=e(s)),i},_getLoader:function(){return e.mobile.loading()},_showLoading:function(t,i,n,o){this._loadMsg||(this._loadMsg=setTimeout(e.proxy(function(){this._getLoader().loader("show",i,n,o),this._loadMsg=0},this),t))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.proxy(this,"_hideLoading"),1500)},_parse:function(t,i){var n,o=e("<div></div>");return o.get(0).innerHTML=t,n=o.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),n.length||(n=e("<div data-"+this._getNs()+"role='page'>"+(t.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),n.attr("data-"+this._getNs()+"url",this._createDataUrl(i)).attr("data-"+this._getNs()+"external-page",!0),n},_setLoadedTitle:function(t,i){var n=i.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;n&&!t.jqmData("title")&&(n=e("<div>"+n+"</div>").text(),t.jqmData("title",n))},_createDataUrl:function(t){return e.mobile.path.convertUrlToDataUrl(t)},_createFileUrl:function(t){return e.mobile.path.getFilePath(t)},_triggerWithDeprecated:function(t,i,n){var o=e.Event("page"+t),s=e.Event(this.widgetName+t);return(n||this.element).trigger(o,i),this._trigger(t,s,i),{deprecatedEvent:o,event:s}},_loadSuccess:function(t,i,o,s){var a=this._createFileUrl(t);return e.proxy(function(r,l,h){var u,c=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),d=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");c.test(r)&&RegExp.$1&&d.test(RegExp.$1)&&RegExp.$1&&(a=e.mobile.path.getFilePath(e("<div>"+RegExp.$1+"</div>").text()),a=this.window[0].encodeURIComponent(a)),o.prefetch===n&&this._getBase().set(a),u=this._parse(r,a),this._setLoadedTitle(u,r),i.xhr=h,i.textStatus=l,i.page=u,i.content=u,i.toPage=u,this._triggerWithDeprecated("load",i).event.isDefaultPrevented()||(this._include(u,o),o.showLoadMsg&&this._hideLoading(),s.resolve(t,o,u))},this)},_loadDefaults:{type:"get",data:n,reload:!1,role:n,showLoadMsg:!1,loadMsgDelay:50},load:function(t,i){var o,s,a,r,l=i&&i.deferred||e.Deferred(),h=e.extend({},this._loadDefaults,i),u=null,c=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault());return h.data&&"get"===h.type&&(c=e.mobile.path.addSearchParams(c,h.data),h.data=n),h.data&&"post"===h.type&&(h.reload=!0),o=this._createFileUrl(c),s=this._createDataUrl(c),u=this._find(c),0===u.length&&e.mobile.path.isEmbeddedPage(o)&&!e.mobile.path.isFirstPageUrl(o)?(l.reject(c,h),l.promise()):(this._getBase().reset(),u.length&&!h.reload?(this._enhance(u,h.role),l.resolve(c,h,u),h.prefetch||this._getBase().set(t),l.promise()):(r={url:t,absUrl:c,toPage:t,prevPage:i?i.fromPage:n,dataUrl:s,deferred:l,options:h},a=this._triggerWithDeprecated("beforeload",r),a.deprecatedEvent.isDefaultPrevented()||a.event.isDefaultPrevented()?l.promise():(h.showLoadMsg&&this._showLoading(h.loadMsgDelay),h.prefetch===n&&this._getBase().reset(),e.mobile.allowCrossDomainPages||e.mobile.path.isSameDomain(e.mobile.path.documentUrl,c)?(e.ajax({url:o,type:h.type,data:h.data,contentType:h.contentType,dataType:"html",success:this._loadSuccess(c,r,h,l),error:this._loadError(c,r,h,l)}),l.promise()):(l.reject(c,h),l.promise()))))},_loadError:function(t,i,n,o){return e.proxy(function(s,a,r){this._getBase().set(e.mobile.path.get()),i.xhr=s,i.textStatus=a,i.errorThrown=r,this._hideLoading(),this._releaseTransitionLock();var l=this._triggerWithDeprecated("loadfailed",i);l.deprecatedEvent.isDefaultPrevented()||l.event.isDefaultPrevented()||(n.showLoadMsg&&this._showError(),o.reject(t,n))},this)},_getTransitionHandler:function(t){return t=e.mobile._maybeDegradeTransition(t),e.mobile.transitionHandlers[t]||e.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(t,i,n){var o=!1;n=n||"",i&&(t[0]===i[0]&&(o=!0),this._triggerWithDeprecated(n+"hide",{nextPage:t,toPage:t,prevPage:i,samePage:o},i)),this._triggerWithDeprecated(n+"show",{prevPage:i||e(""),toPage:t},t)},_performTransition:function(t,i,n,o){var s=e.Deferred();return o&&o.removeClass("ui-page-active"),n&&n.addClass("ui-page-active"),this._delay(function(){s.resolve(t,i,n,o,!1)},0),s.promise()},_cssTransition:function(t,i,n){var o,s=n.transition,a=n.reverse,r=n.deferred;this._triggerCssTransitionEvents(t,i,"before"),this._hideLoading(),o=this._performTransition(s,a,t,i),o.done(e.proxy(function(){this._triggerCssTransitionEvents(t,i)},this)),o.done(function(){r.resolve.apply(r,arguments)})},_releaseTransitionLock:function(){s=!1,o.length>0&&this.change.apply(this,o.pop())},_removeActiveLinkClass:function(t){e.mobile.removeActiveLinkClass(t)},_loadUrl:function(t,i,n){return n.target=t,n.deferred=e.Deferred(),this.load(t,n),n.deferred.done(e.proxy(function(e,t,n){s=!1,t.absUrl=i.absUrl,this.transition(n,i,t)},this)),n.deferred.fail(e.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",i)},this)),n.deferred.promise()},_triggerPageBeforeChange:function(t,i,n){var o;return i.prevPage=this.activePage,e.extend(i,{toPage:t,options:n}),"string"===e.type(t)?i.absUrl=e.mobile.path.makeUrlAbsolute(t,this._findBaseWithDefault()):i.absUrl=n.absUrl,o=this._triggerWithDeprecated("beforechange",i),!o.event.isDefaultPrevented()&&!o.deprecatedEvent.isDefaultPrevented()},change:function(t,i){if(s)return void o.unshift(arguments);var n=e.extend({},this.options.changeOptions,i),a={};return n.fromPage=n.fromPage||this.activePage,this._triggerPageBeforeChange(t,a,n)?(t=a.toPage,"string"===e.type(t)?(s=!0,this._loadUrl(t,a,n)):this.transition(t,a,n)):void 0},transition:function(t,a,r){var l,h,u,c,d,p,f,m,g,b,v,_,y;if(s)return void o.unshift([t,r]);if(this._triggerPageBeforeChange(t,a,r)&&(a.prevPage=r.fromPage,y=this._triggerWithDeprecated("beforetransition",a),!y.deprecatedEvent.isDefaultPrevented()&&!y.event.isDefaultPrevented()))return s=!0,t[0]!==e.mobile.firstPage[0]||r.dataUrl||(r.dataUrl=e.mobile.path.documentUrl.hrefNoHash),l=r.fromPage,h=r.dataUrl&&e.mobile.path.convertUrlToDataUrl(r.dataUrl)||t.jqmData("url"),u=h,e.mobile.path.getFilePath(h),c=e.mobile.navigate.history.getActive(),d=0===e.mobile.navigate.history.activeIndex,p=0,f=i.title,m=("dialog"===r.role||"dialog"===t.jqmData("role"))&&!0!==t.jqmData("dialog"),l&&l[0]===t[0]&&!r.allowSamePageTransition?(s=!1,this._triggerWithDeprecated("transition",a),this._triggerWithDeprecated("change",a),void(r.fromHashChange&&e.mobile.navigate.history.direct({url:h}))):(t.page({role:r.role}),r.fromHashChange&&(p="back"===r.direction?-1:1),e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),g=!1,m&&c&&(c.url&&c.url.indexOf(e.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-page-dialog")&&e.mobile.navigate.history.activeIndex>0&&(r.changeUrl=!1,g=!0),h=c.url||"",!g&&h.indexOf("#")>-1?h+=e.mobile.dialogHashKey:h+="#"+e.mobile.dialogHashKey),b=c?t.jqmData("title")||t.children(":jqmData(type='header')").find(".ui-toolbar-title").text():f,b&&f===i.title&&(f=b),t.jqmData("title")||t.jqmData("title",f),r.transition=r.transition||(p&&!d?c.transition:n)||(m?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),!p&&g&&(e.mobile.navigate.history.getActive().pageUrl=u),h&&!r.fromHashChange&&(!e.mobile.path.isPath(h)&&h.indexOf("#")<0&&(h="#"+h),v={allowSamePageTransition:r.allowSamePageTransition,transition:r.transition,title:f,pageUrl:u,role:r.role},!1!==r.changeUrl&&e.mobile.hashListeningEnabled?e.mobile.navigate(this.window[0].encodeURI(h),v,!0):t[0]!==e.mobile.firstPage[0]&&e.mobile.navigate.history.add(h,v)),i.title=f,e.mobile.activePage=t,this.activePage=t,r.reverse=r.reverse||p<0,_=e.Deferred(),this._cssTransition(t,l,{transition:r.transition,reverse:r.reverse,deferred:_}),_.done(e.proxy(function(i,n,o,s,l){e.mobile.removeActiveLinkClass(),r.duplicateCachedPage&&r.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",a),this._triggerWithDeprecated("change",a)},this)),_.promise())},_findBaseWithDefault:function(){return this.activePage&&e.mobile.getClosestBaseUrl(this.activePage)||e.mobile.path.documentBase.hrefNoHash},_themeElements:function(){return[{element:this.element,prefix:"ui-overlay-"}]},_destroy:function(){var t;e.mobile.pagecontainers&&(t=e.inArray(this.element,e.mobile.pagecontainers))>=0&&(e.mobile.pagecontainers.splice(t,1),e.mobile.pagecontainers.length?e.mobile.pagecontainers.active=e.mobile.pagecontainers[0]:e.mobile.pagecontainers.active=n),this._super()}}),e.mobile.navreadyDeferred=e.Deferred(),e.widget("mobile.pagecontainer",e.mobile.pagecontainer,e.mobile.widget.theme),e.mobile.pagecontainer}),function(t){"function"==typeof define&&define.amd?define("jquery-ui/focusable",["jquery","./version"],t):t(e)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}return e.ui.focusable=function(i,n){var o,s,a,r,l,h=i.nodeName.toLowerCase();return"area"===h?(o=i.parentNode,s=o.name,!(!i.href||!s||"map"!==o.nodeName.toLowerCase())&&(a=e("img[usemap='#"+s+"']"),a.length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(h)?(r=!i.disabled)&&(l=e(i).closest("fieldset")[0])&&(r=!l.disabled):r="a"===h?i.href||n:n,r&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable}),function(t){"function"==typeof define&&define.amd?define("navigation",["jquery","./core","./navigation/path","./events/navigate","./navigation/history","./navigation/navigator","./navigation/method","./support","./animationComplete","./widgets/pagecontainer","./widgets/page","./transitions/handlers"],t):t(e)}(function(e){function o(e){for(;e&&("string"!=typeof e.nodeName||"a"!==e.nodeName.toLowerCase());)e=e.parentNode;return e}var s=e.Deferred(),a=e.Deferred(),r=function(){a.resolve(),a=null},l=e.mobile.path,h=l.documentUrl,u=null;return e.mobile.back=function(){var i=t.navigator;this.phonegapNavigationEnabled&&i&&i.app&&i.app.backHistory?i.app.backHistory():e.mobile.pagecontainers.active.back()},e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.mobile._registerInternalEvents=function(){var i=function(t,i){var n,o,s,a,r=!0;return!(!e.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target"))&&(n=u&&u.attr("formaction")||t.attr("action"),a=(t.attr("method")||"get").toLowerCase(),n||(n=e.mobile.getClosestBaseUrl(t),"get"===a&&(n=l.parseUrl(n).hrefNoSearch),n===l.documentBase.hrefNoHash&&(n=h.hrefNoSearch)),n=l.makeUrlAbsolute(n,e.mobile.getClosestBaseUrl(t)),!(l.isExternal(n)&&!l.isPermittedCrossDomainRequest(h,n))&&(i||(o=t.serializeArray(),u&&u[0].form===t[0]&&(s=u.attr("name"))&&(e.each(o,function(e,t){if(t.name===s)return s="",!1}),s&&o.push({name:s,value:u.attr("value")})),r={url:n,options:{type:a,data:e.param(o),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),r))};e.mobile.document.delegate("form","submit",function(t){var n;t.isDefaultPrevented()||(n=i(e(this)))&&(e(this).closest(".ui-pagecontainer").pagecontainer("change",n.url,n.options),t.preventDefault())}),e.mobile.document.bind("vclick",function(t){var n,s=t.target;if(!(t.which>1)&&e.mobile.linkBindingEnabled){if(u=e(s),e.data(s,"ui-button")){if(!i(e(s).closest("form"),!0))return}else{if(!(s=o(s))||"#"===l.parseUrl(s.getAttribute("href")||"#").hash&&"back"!==s.getAttribute("data-"+e.mobile.ns+"rel"))return;if(!e(s).jqmHijackable().length)return}n=e(s).closest(".ui-button"),n.length>0&&!n.hasClass("ui-state-disabled")&&(e.mobile.removeActiveLinkClass(!0),e.mobile.activeClickedLink=n,e.mobile.activeClickedLink.addClass("ui-button-active"))}}),e.mobile.document.bind("click",function(i){if(e.mobile.linkBindingEnabled&&!i.isDefaultPrevented()){var s,a,r,u,c,d,p=o(i.target),f=e(p),m=function(){t.setTimeout(function(){e.mobile.removeActiveLinkClass(!0)},200)};if(e.mobile.activeClickedLink&&e.mobile.activeClickedLink[0]===i.target&&m(),p&&!(i.which>1)&&f.jqmHijackable().length){if(f.is(":jqmData(rel='back')"))return e.mobile.back(),!1;if(s=e.mobile.getClosestBaseUrl(f),a=l.makeUrlAbsolute(f.attr("href")||"#",s),!e.mobile.ajaxEnabled&&!l.isEmbeddedPage(a))return void m();if(!(-1===a.search("#")||l.isExternal(a)&&l.isAbsoluteUrl(a))){if(!(a=a.replace(/[^#]*#/,"")))return void i.preventDefault();a=l.isPath(a)?l.makeUrlAbsolute(a,s):l.makeUrlAbsolute("#"+a,h.hrefNoHash)}if(r=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),r||l.isExternal(a)&&!l.isPermittedCrossDomainRequest(h,a))return void m();u=f.jqmData("transition"),c="reverse"===f.jqmData("direction")||f.jqmData("back"),d=f.attr("data-"+e.mobile.ns+"rel")||n,f.closest(".ui-pagecontainer").pagecontainer("change",a,{transition:u,reverse:c,role:d,link:f}),i.preventDefault()}}}),e.mobile.document.delegate(".ui-page","page.prefetch",function(){var t=[],i=this;e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),o=n.attr("href");o&&-1===e.inArray(o,t)&&(t.push(o),e(i).closest(".ui-pagecontainer").pagecontainer("load",o,{role:n.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile.document.bind("pageshow",function(){a?a.done(e.mobile.resetActivePageHeight):e.mobile.resetActivePageHeight()}),e.mobile.window.bind("throttledresize",e.mobile.resetActivePageHeight)},e(function(){s.resolve()}),"complete"===i.readyState?r():e.mobile.window.on("load",r),e.when(s,e.mobile.navreadyDeferred).done(function(){e.mobile._registerInternalEvents()}),e.mobile}),function(t){"function"==typeof define&&define.amd?define("widgets/popup",["jquery","jquery-ui/focusable","jquery-ui/safe-active-element","jquery-ui/safe-blur","../widget","./widget.theme","../support","../events/navigate","../navigation/path","../navigation/history","../navigation/navigator","../navigation/method","../animationComplete","../navigation"],t):t(e)}(function(e){function i(e,t,i){return e>=i.x&&e<=i.x+i.cx&&t>=i.y&&t<=i.y+i.cy}function o(e,t){var n=e.offset(),o=e.outerWidth(!0),s=e.outerHeight(!0);return!(i(n.left,n.top,t)||i(n.left+o,n.top,t)||i(n.left+o,n.top+s,t)||i(n.left,n.top+s,t))}function s(e,t,i,n){return e<t?i+(e-t)/2:Math.min(Math.max(i,n-t/2),i+e-t)}function a(e){return{x:e.scrollLeft(),y:e.scrollTop(),cx:e[0].innerWidth||e.width(),cy:e[0].innerHeight||e.height()}}var r=function(){e(this).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var e=this,t=e.getAttribute("href").substring(1);t&&(e.setAttribute("aria-haspopup",!0),e.setAttribute("aria-owns",t),e.setAttribute("aria-expanded",!1))})};return(e.enhance=e.extend(e.enhance,e.extend({hooks:[]},e.enhance))).hooks.push(r),e.widget("mobile.popup",{version:"@VERSION",options:{classes:{"ui-popup":"ui-corner-all ui-overlay-shadow"},theme:"inherit",overlayTheme:"inherit",transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a[data-ui-rel='back']",dismissible:!0,enhanced:!1,history:!(e.mobile.browser.oldIE||e.mobile.browser.newIEMobile)},_handleDocumentVmousedown:function(t){this._isOpen&&e.contains(this._ui.container[0],t.target)&&this._ignoreResizeEvents()},_create:function(){var t=this.element,i=t.attr("id"),n=this.options;n.history=n.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,e.extend(this,{_scrollTop:0,_page:t.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=e("body")),n.enhanced?(this._ui={container:t.parent(),screen:t.parent().prev(),placeholder:e(this.document[0].getElementById(i+"-placeholder"))},this._addClasses()):(this._enhance(),this._applyTransition(n.transition)),this._setTolerance(n.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:"_handleWindowOrientationchange",resize:"_handleWindowResize",keyup:"_handleWindowKeyUp"}),this._on(this.document,{vmousedown:"_handleDocumentVmousedown",focusin:"_handleDocumentFocusIn"})},_themeElements:function(){return[{element:this._ui.screen,prefix:"ui-overlay-",option:"overlayTheme"},{element:this.element,prefix:"ui-body-"}]},_addClasses:function(){this._addClass(this._ui.placeholder,null,"ui-screen-hidden"),this._addClass(this._ui.screen,"ui-popup-screen","ui-screen-hidden"),this._addClass(this._ui.container,"ui-popup-container ui-popup-hidden ui-popup-truncate"),this._addClass("ui-popup")},_enhance:function(){var t=this.element.attr("id"),i="placeholder",n={screen:e("<div>"),placeholder:e("<div>"),container:e("<div>")},o=this.document[0].createDocumentFragment();return this._ui=n,o.appendChild(n.screen[0]),o.appendChild(n.container[0]),t&&(n.screen.attr("id",t+"-screen"),n.container.attr("id",t+"-popup"),n.placeholder.attr("id",t+"-placeholder"),i="placeholder for "+t),n.placeholder.html("\x3c!-- "+i+" --\x3e").insertBefore(this.element),this.element.detach(),this._addClasses(),this.element.appendTo(n.container),this._page[0].appendChild(o),n},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var e=this._ui.screen,t=this._ui.container.outerHeight(!0),i=e.removeAttr("style").height(),n=this.document.height()-1;i<n?e.height(n):t>i&&e.height(t)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_expectResizeEvent:function(){var e=a(this.window);if(this._resizeData){if(e.x===this._resizeData.windowCoordinates.x&&e.y===this._resizeData.windowCoordinates.y&&e.cx===this._resizeData.windowCoordinates.cx&&e.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:e},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._removeClass(this._ui.container,"ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&o(this._ui.container,a(this.window))&&(this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")&&(this._addClass(this._ui.container,"ui-popup-hidden ui-popup-truncate"),this._ui.container.removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var i,n=t.target,o=this._ui;if(this._isOpen){if(n!==o.container[0]){if(i=e(n),!e.contains(o.container[0],n))return e(e.ui.safeActiveElement(this.document[0])).one("focus",e.proxy(function(){e.ui.safeBlur(n)},this)),o.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;o.focusElement[0]===o.container[0]&&(o.focusElement=i)}this._ignoreResizeEvents()}},_applyTransition:function(t){return t&&(this._removeClass(this._ui.container,null,this._fallbackTransition),"none"!==t&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._addClass(this._ui.container,null,this._fallbackTransition))),this},_setOptions:function(e){return e.transition!==n&&(this._currentTransition||this._applyTransition(e.transition)),e.tolerance!==n&&this._setTolerance(e.tolerance),e.disabled!==n&&e.disabled&&this.close(),this._super(e)},_setTolerance:function(t){var i,o={t:30,r:15,b:30,l:15};if(t!==n)switch(i=String(t).split(","),e.each(i,function(e,t){i[e]=parseInt(t,10)}),i.length){case 1:isNaN(i[0])||(o.t=o.r=o.b=o.l=i[0]);break;case 2:isNaN(i[0])||(o.t=o.b=i[0]),isNaN(i[1])||(o.l=o.r=i[1]);break;case 4:isNaN(i[0])||(o.t=i[0]),isNaN(i[1])||(o.r=i[1]),isNaN(i[2])||(o.b=i[2]),isNaN(i[3])||(o.l=i[3])}return this._tolerance=o,this},_clampPopupWidth:function(e){var t,i=a(this.window),n={x:this._tolerance.l,y:i.y+this._tolerance.t,cx:i.cx-this._tolerance.l-this._tolerance.r,cy:i.cy-this._tolerance.t-this._tolerance.b};return e||this._ui.container.css("max-width",n.cx),t={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:n,menuSize:t}},_calculateFinalLocation:function(e,t){var i,n=t.rc,o=t.menuSize;return i={left:s(n.cx,o.cx,n.x,e.x),top:s(n.cy,o.cy,n.y,e.y)},i.top=Math.max(0,i.top),i.top-=Math.min(i.top,Math.max(0,i.top+o.cy-this.document.height())),i},_placementCoords:function(e){return this._calculateFinalLocation(e,this._clampPopupWidth())},_createPrerequisites:function(t,i,n){var o,s=this;o={screen:e.Deferred(),container:e.Deferred()},o.screen.done(function(){o===s._prerequisites&&t()}),o.container.done(function(){o===s._prerequisites&&i()}),e.when(o.screen,o.container).done(function(){o===s._prerequisites&&(s._prerequisites=null,n())}),s._prerequisites=o},_animate:function(t){if(this._removeClass(this._ui.screen,null,t.classToRemove)._addClass(this._ui.screen,null,t.screenClassToAdd),t.prerequisites.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition))return this._addClass(this._ui.container,null,t.containerClassToAdd)._removeClass(this._ui.container,null,t.classToRemove),void this._ui.container.animationComplete(e.proxy(t.prerequisites.container,"resolve"));this._removeClass(this._ui.container,null,t.classToRemove),t.prerequisites.container.resolve()},_desiredCoords:function(t){var i,n=null,o=a(this.window),s=t.x,r=t.y,l=t.positionTo;if(l&&"origin"!==l)if("window"===l)s=o.cx/2+o.x,r=o.cy/2+o.y;else{try{n=e(l)}catch(e){n=null}n&&(n.filter(":visible"),0===n.length&&(n=null))}return n&&(i=n.offset(),s=i.left+n.outerWidth()/2,r=i.top+n.outerHeight()/2),("number"!==e.type(s)||isNaN(s))&&(s=o.cx/2+o.x),("number"!==e.type(r)||isNaN(r))&&(r=o.cy/2+o.y),{x:s,y:r}},_reposition:function(e){e={x:e.x,y:e.y,positionTo:e.positionTo},this._trigger("beforeposition",n,e),this._ui.container.offset(this._placementCoords(this._desiredCoords(e)))},reposition:function(e){this._isOpen&&this._reposition(e)},_openPrerequisitesComplete:function(){var t=this.element.attr("id"),i=this._ui.container.find(":focusable").first(),n=e.ui.safeActiveElement(this.document[0]);this._addClass(this._ui.container,"ui-popup-active"),this._isOpen=!0,this._resizeScreen(),n&&!e.contains(this._ui.container[0],n)&&e.ui.safeBlur(n),i.length>0&&(this._ui.focusElement=i),this._ignoreResizeEvents(),t&&this.document.find("[aria-haspopup='true'][aria-owns='"+e.mobile.path.hashToSelector(t)+"']").attr("aria-expanded",!0),this._ui.container.attr("tabindex",0),this._trigger("afteropen")},_open:function(t){var i=e.extend({},this.options,t),n=function(){var e=navigator.userAgent,t=e.match(/AppleWebKit\/([0-9\.]+)/),i=!!t&&t[1],n=e.match(/Android (\d+(?:\.\d+))/),o=!!n&&n[1],s=e.indexOf("Chrome")>-1;return!(!(null!==n&&"4.0"===o&&i&&i>534.13)||s)}();this._createPrerequisites(e.noop,e.noop,e.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=i.transition,this._applyTransition(i.transition),this._removeClass(this._ui.screen,null,"ui-screen-hidden"),this._removeClass(this._ui.container,"ui-popup-truncate"),this._reposition(i),this._removeClass(this._ui.container,"ui-popup-hidden"),this.options.overlayTheme&&n&&this._addClass(this.element.closest(".ui-page"),"ui-popup-open"),this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._removeClass(this._ui.screen,null,"out")._addClass(this._ui.screen,null,"ui-screen-hidden")},_closePrerequisiteContainer:function(){this._removeClass(this._ui.container,null,"reverse out")._addClass(this._ui.container,"ui-popup-hidden ui-popup-truncate"),this._ui.container.removeAttr("style")},_closePrerequisitesDone:function(){var t=this._ui.container,i=this.element.attr("id");e.mobile.popup.active=n,e(":focus",t[0]).add(t[0]).blur(),i&&this.document.find("[aria-haspopup='true'][aria-owns='"+e.mobile.path.hashToSelector(i)+"']").attr("aria-expanded",!1),this._ui.container.removeAttr("tabindex"),this._trigger("afterclose")},_close:function(t){this._removeClass(this._ui.container,"ui-popup-active")._removeClass(this._page,"ui-popup-open"),this._isOpen=!1,this._createPrerequisites(e.proxy(this,"_closePrerequisiteScreen"),e.proxy(this,"_closePrerequisiteContainer"),e.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this.element.detach().insertAfter(this._ui.placeholder),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){this.options.enhanced&&(this.classesElementLookup={}),e.mobile.popup.active===this?(this.element.one("popupafterclose",e.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(i,n){var o,s,a=!1;e.mobile.popup.active!==this||i&&(i.isDefaultPrevented()||"navigate"===i.type&&n&&n.state&&n.state.url&&n.state.url===this._myUrl)||!this._isOpen||(t.scrollTo(0,this._scrollTop),i&&"pagebeforechange"===i.type&&n&&(o="string"==typeof n.toPage?n.toPage:n.toPage.jqmData("url"),o=e.mobile.path.parseUrl(o),s=o.pathname+o.search+o.hash,this._pageUrl!==e.mobile.path.makeUrlAbsolute(s)||n.options.reloadPage?a=!0:i.preventDefault()),this._off(this.window,"navigate pagebeforechange"),this._off(this.element,"click"),this._close(a))},_bindContainerClose:function(){this._on(!0,this.window,{navigate:"_closePopup",pagebeforechange:"_closePopup"})},widget:function(){return this._ui.container},_handleCloseLink:function(e){this.close(),e.preventDefault()},open:function(t){var i,n,o,s,a,r={},l=this,h=this.options;return e.mobile.popup.active||h.disabled?this:(e.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),h.history?(a=e.mobile.navigate.history,n=e.mobile.dialogHashKey,o=e.mobile.activePage,s=!!o&&o.hasClass("ui-page-dialog"),this._pageUrl=i=a.getActive().url,i.indexOf(n)>-1&&!s&&a.activeIndex>0?(l._open(t),l._bindContainerClose(),this):(-1!==i.indexOf(n)||s?i=e.mobile.path.parseLocation().hash+n:i+=i.indexOf("#")>-1?n:"#"+n,this.window.one("beforenavigate",function(e){e.preventDefault(),l._open(t),l._bindContainerClose()}),this.urlAltered=!0,this._myUrl=i,e.mobile.navigate(i,{role:"dialog"}),this)):(l._open(t),l._bindContainerClose(),r["click "+h.closeLinkSelector]="_handleCloseLink",this._on(r),this))},close:function(){return e.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(e.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),e.widget("mobile.popup",e.mobile.popup,e.mobile.widget.theme),e.mobile.popup.handleLink=function(t){var i,n=e.mobile.path,o=e(n.hashToSelector(n.parseUrl(t.attr("href")).hash)).first();o.length>0&&o.data("mobile-popup")&&(i=t.offset(),o.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")})),setTimeout(function(){t.removeClass("ui-button-active")},300)},e.mobile.document.on("pagebeforechange",function(t,i){"popup"===i.options.role&&(e.mobile.popup.handleLink(i.options.link),t.preventDefault())}),e.mobile.popup}),function(t){"function"==typeof define&&define.amd?define("widgets/table",["jquery","../widget","./page"],t):t(e)}(function(e){return e.widget("mobile.table",{version:"@VERSION",options:{classes:{"ui-table":""},enhanced:!1},headers:null,allHeaders:null,_create:function(){var e=this.options;e.enhanced||this._addClass("ui-table",e.disabled?" ui-state-disabled":""),this.refresh()},_setOptions:function(e){return e.disabled!==n&&this._toggleClass(null,"ui-state-disabled",e.disabled),this._super(e)},_setHeaders:function(){this.headerRows=this.element.children("thead").children("tr"),this.headers=this.headerRows.first().children(),this.allHeaders=this.headerRows.children(),this.allRowsExceptFirst=this.element.children("thead,tbody").children("tr").not(this.headerRows.eq(0))},rebuild:function(){this.refresh()},_refreshHeaderCell:function(t,i,n){var o,s=parseInt(i.getAttribute("colspan"),10),a=":nth-child("+(n+1)+")";if(s)for(o=0;o<s-1;o++)n++,a+=", :nth-child("+(n+1)+")";return e(i).jqmData("cells",this.allRowsExceptFirst.not(i).children(a)),n},_refreshHeaderRow:function(t,i){var n=0;e(i).children().each(e.proxy(function(e,t){n=this._refreshHeaderCell(e,t,n)+1},this))},refresh:function(){this._setHeaders(),this.headerRows.each(e.proxy(this,"_refreshHeaderRow"))},_destroy:function(){this.element.find("thead tr").children().each(function(){e(this).jqmRemoveData("cells")})}})}),function(t){"function"==typeof define&&define.amd?define("widgets/table.columntoggle",["jquery","./table"],t):t(e)}(function(e,t){return e.widget("mobile.table",e.mobile.table,{options:{mode:"columntoggle",classes:{"ui-table-cell-hidden":"","ui-table-cell-visible":"","ui-table-priority-":"","ui-table-columntoggle":""}},_create:function(){this._instantiating=!0,this._super(),"columntoggle"===this.options.mode&&(this.options.enhanced||this._enhanceColumnToggle(),this._instantiating=!1)},_enhanceColumnToggle:function(){
this._addClass("ui-table-columntoggle"),this._updateHeaderPriorities()},_updateVariableColumn:function(e,t,i){this._addClass(t,"ui-table-priority-"+i)},_updateHeaderPriorities:function(t){this.headers.each(e.proxy(function(i,n){var o=e(n),s=e.mobile.getAttribute(n,"priority");s&&this._updateVariableColumn(o,o.add(o.jqmData("cells")),s,t)},this))},_setColumnVisibility:function(e,t){var i=e.jqmData("cells");i&&(i=i.add(e),this._unlock(i),this._addClass(i,t?"ui-table-cell-visible":"ui-table-cell-hidden"))},setColumnVisibility:function(t,i){var n;"number"===e.type(t)?n=this.headers.eq(t):t.length>0&&(this.headers.index(t[0])>=0?n=t.first():this.headers.each(e.proxy(function(i,o){var s=e(o),a=s.jqmData("cells");if((a?a.index(t[0]):-1)>=0)return n=s,!1},this))),n&&this._setColumnVisibility(n,i)},_unlock:function(e){var t=e||this.element.children("thead, tbody").children("tr").children(".ui-table-cell-hidden, .ui-table-cell-visible");this._removeClass(t,"ui-table-cell-hidden ui-table-cell-visible")},_recordLockedColumns:e.noop,_restoreLockedColumns:e.noop,refresh:function(){var e;this._super(),this._instantiating||"columntoggle"!==this.options.mode||(e=this._recordLockedColumns(),this._unlock(),this._updateHeaderPriorities(),this._restoreLockedColumns(e))},_destroy:function(){return"columntoggle"===this.options.mode&&(this.options.enhanced||this.headers.each(e.proxy(function(t,i){var n;e.mobile.getAttribute(i,"priority")&&(n=e(i),n.add(n.jqmData("cells")))},this))),this._superApply(arguments)}})}),function(t){"function"==typeof define&&define.amd?define("widgets/table.columntoggle.popup",["jquery","./table.columntoggle","./popup","./controlgroup","./forms/button","./widget.theme","./forms/checkboxradio"],t):t(e)}(function(e,t){return e.widget("mobile.table",e.mobile.table,{options:{columnButton:!0,columnButtonTheme:null,columnPopupTheme:null,columnButtonText:"Columns...",columnUi:!0,classes:{"ui-table-columntoggle-popup":"","ui-table-columntoggle-btn":"ui-corner-all ui-shadow ui-mini"}},_create:function(){var t,i;this.options.columnButtonTheme=this.options.columnButtonTheme?this.options.columnButtonTheme:"inherit",this._super(),"columntoggle"===this.options.mode&&this.options.columnUi&&this.options.enhanced&&(t=this._id(),i=e(this.document[0].getElementById(t+"-popup")),this._ui={popup:i,menu:i.children().first(),button:e(this.document[0].getElementById(t+"-button"))},this._updateHeaderPriorities({keep:!0}))},_updateVariableColumn:function(t,i,n,o){var s;return(this.options.columnUi||o&&o.turningOnUI)&&(s=o.keep?o.inputs.eq(o.checkboxIndex++):e("<label><input type='checkbox' checked />"+(t.children("abbr").first().attr("title")||t.text())+"</label>").appendTo(o.container).children(0).checkboxradio({theme:this.options.columnPopupTheme}),s.jqmData("header",t).jqmData("cells",i),t.jqmData("input",s)),o&&o.turningOnUI?this:this._superApply(arguments)},_updateHeaderPriorities:function(t){var i,n,o;return t=t||{},this.options.columnUi||t.turningOnUI?(n=this._ui.menu.controlgroup("container"),t.keep?i=n.find("input"):n.empty(),o=this._super(e.extend(t,{checkboxIndex:0,container:n,inputs:i})),t.keep||this._ui.menu.controlgroup("refresh"),this._setupEvents(),this._setToggleState()):o=this._superApply(arguments),o},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_themeClassFromOption:function(e,t){return t?"none"===t?"":e+t:""},_removeColumnUi:function(t){this._ui.menu.find("input").each(function(){var i=e(this),n=i.jqmData("header");t&&i.jqmRemoveData("cells").jqmRemoveData("header"),n.jqmRemoveData("input")}),t||(this._ui.menu.remove(),this._ui.popup.remove(),this._ui.button&&this._ui.button.remove())},_setOptions:function(e){var t=this.options.columnUi;return"columntoggle"===this.options.mode&&(null!=e.columnUi&&(this.options.columnUi&&!e.columnUi?this._removeColumnUi(!1):!this.options.columnUi&&e.columnUi&&this._addColumnUI({callback:this._updateHeaderPriorities,callbackContext:this,callbackArguments:[{turningOnUI:!0}]}),t=e.columnUi),t&&(null!=e.disabled&&(this._ui.popup.popup("option","disabled",e.disabled),this._ui.button&&(this._toggleClass(this._ui.button,"ui-state-disabled",null,e.disabled),e.disabled?this._ui.button.attr("tabindex",-1):this._ui.button.removeAttr("tabindex"))),null!=e.columnButtonTheme&&this._ui.button&&(this._removeClass(this._ui.button,null,this._themeClassFromOption("ui-button-",this.options.columnButtonTheme)),this._addClass(this._ui.button,null,this._themeClassFromOption("ui-button-",e.columnButtonTheme))),null!=e.columnPopupTheme&&this._ui.popup.popup("option","theme",e.columnPopupTheme),null!=e.columnButtonText&&this._ui.button&&this._ui.button.text(e.columnButtonText),null!=e.columnButton&&(e.columnButton?(this._ui.button&&0!==this._ui.button.length||(this._ui.button=this._columnsButton()),this._ui.button.insertBefore(this.element)):this._ui.button&&this._ui.button.detach()))),this._superApply(arguments)},_setColumnVisibility:function(e,t,i){var n;return!i&&this.options.columnUi&&(n=e.jqmData("input"))&&n.prop("checked",t).checkboxradio("refresh"),this._superApply(arguments)},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._ui.menu,{"change input":"_menuInputChange"})},_menuInputChange:function(t){var i=e(t.target);this._setColumnVisibility(i.jqmData("header"),i.prop("checked"),!0)},_columnsButton:function(){var t=this._id(),i=this.options,n=e("<a href='#"+t+"-popup' id='"+t+"-button' data-"+e.mobile.ns+"rel='popup' data-theme='"+i.columnButtonTheme+"'>"+i.columnButtonText+"</a>");return n.button(),this._addClass(n,"ui-table-columntoggle-btn"),this._on(n,{click:"_handleButtonClicked"}),n},_addColumnUI:function(t){var i,n,o,s,a,r,l,h;return n=this._id(),o=n+"-popup",s=this.element,a=this.options,r=a.columnPopupTheme?" data-"+e.mobile.ns+"theme='"+a.columnPopupTheme+"'":"",l=this.document[0].createDocumentFragment(),i=this._ui={button:this.options.columnButton?this._columnsButton():null,popup:e("<div id='"+o+"'"+r+"></div>"),menu:e("<fieldset></fieldset>").controlgroup()},this._addClass(i.popup,"ui-table-columntoggle-popup"),h=t.callback.apply(t.callbackContext,t.callbackArguments),i.menu.appendTo(i.popup),l.appendChild(i.popup[0]),i.button&&l.appendChild(i.button[0]),s.before(l),i.popup.popup(),h},_enhanceColumnToggle:function(){return this.options.columnUi?this._addColumnUI({callback:this._superApply,callbackContext:this,callbackArguments:arguments}):this._superApply(arguments)},_handleButtonClicked:function(t){e.mobile.popup.handleLink(this._ui.button),t.preventDefault()},_setToggleState:function(){this._ui.menu.find("input").each(function(){var t=e(this);t.prop("checked","table-cell"===t.jqmData("cells").eq(0).css("display")).checkboxradio("refresh")})},_recordLockedColumns:function(){var t=this.headers,i=[];return this._ui.menu.find("input").each(function(){var n=e(this),o=n.jqmData("header"),s=-1;o&&(s=t.index(o[0])),s>-1&&(i=i.concat(o.hasClass("ui-table-cell-visible")?[{index:s,visible:!0}]:o.hasClass("ui-table-cell-hidden")?[{index:s,visible:!1}]:[]),i.push(s))}),i},_restoreLockedColumns:function(e){var t,i,n;for(t=e.length-1;t>-1;t--)i=e[t],(n=this.headers.eq(i.index).jqmData("input"))&&n.prop("checked",i.visible).checkboxradio("refresh").trigger("change")},_destroy:function(){return"columntoggle"===this.options.mode&&this.options.columnUi&&this._removeColumnUi(this.options.enhanced),this._superApply(arguments)}})}),function(t){"function"==typeof define&&define.amd?define("widgets/table.reflow",["jquery","./table"],t):t(e)}(function(e){return e.widget("mobile.table",e.mobile.table,{options:{mode:"reflow",classes:{"ui-table-reflow":"","ui-table-cell-label":"","ui-table-cell-label-top":""}},_create:function(){return"reflow"!==this.options.mode||this.options.enhanced||this._addClass("ui-table-reflow"),this._superApply(arguments)},_refreshHeaderCell:function(t,i,n){return i.setAttribute("data-"+e.mobile.ns+"colstart",n+1),this._superApply(arguments)},refresh:function(){this._superApply(arguments),"reflow"===this.options.mode&&e(this.allHeaders.get().reverse()).each(e.proxy(this,"_updateCellsFromHeader"))},_updateCellsFromHeader:function(t,i){var n,o,s,a,r=e(i),l=r.clone().contents();l.length>0&&(a="ui-table-cell-label",o=r.jqmData("cells"),s=e.mobile.getAttribute(i,"colstart"),o.not(i).filter("thead th").length>0&&(a+=" ui-table-cell-label-top",(n=parseInt(i.getAttribute("colspan"),10))&&(o=o.filter("td:nth-child("+n+"n + "+s+")"))),this._addLabels(o,a,l))},_addLabels:function(t,i,n){var o=e("<b>");1===n.length&&"abbr"===n[0].nodeName.toLowerCase()&&(n=n.eq(0).attr("title")),this._addClass(o,i),o.append(n),t.not(":has(b."+i.split(" ").join(".")+")").prepend(o)},_destroy:function(){var t;return"reflow"===this.options.mode&&(t="data-"+e.mobile.ns+"colstart",this.options.enhanced||this.element.children("thead").find("["+t+"]").removeAttr(t).end().end().children("tbody").find("b.ui-table-cell-label").remove()),this._superApply(arguments)}})})});